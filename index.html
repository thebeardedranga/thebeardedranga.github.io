<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranga Digital | Unity Asset Store</title>
    
    <link rel="icon" type="image/png" href="RDICON.png">

    <style>
        :root {
            --bg-color: #0b0e14;
            --accent-color: #5dade2;
            --card-bg: #161b22;
            --border-color: #1f2633;
            --text-main: #ffffff;
            --text-dim: #a0a0a0;
            --success: #238636;
        }

        { box-sizing: border-box; }
        
        body { 
            background: var(--bg-color); 
            color: var(--text-main); 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            line-height: 1.6;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        nav {
            padding: 30px 20px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            background: #0b0e14;
        }

        .logo {
            height: 120px; 
            width: auto;
            vertical-align: middle;
            transition: transform 0.3s ease;
            filter: drop-shadow(0 0 10px rgba(93, 173, 226, 0.2)); 
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .container { 
            max-width: 760px; 
            margin: auto; 
            padding: 40px 20px; 
            text-align: center;
        }

        h1 { color: var(--accent-color); font-size: 2.5rem; margin-bottom: 10px; }
        h2 { color: var(--accent-color); margin-top: 0; }
        p { color: var(--text-dim); font-size: 1.1rem; }

        .section { 
            margin-top: 60px; 
            padding-top: 40px; 
            border-top: 1px solid var(--border-color); 
            text-align: left; 
        }
        
        .product-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 40px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .placeholder-img {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 8px;
            height: 380px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 30px;
            color: #58a6ff;
        }

        .benefit-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
            text-align: left;
        }

        .benefit-item h4 {
            margin: 0 0 10px 0;
            color: var(--accent-color);
            display: flex;
            align-items: center;
        }

        .benefit-item p {
            font-size: 0.95rem;
            margin: 0;
        }

        .btn { 
            display: inline-block;
            background: var(--accent-color); 
            color: white; 
            padding: 16px 40px; 
            text-decoration: none; 
            border-radius: 6px; 
            font-weight: bold;
            transition: all 0.2s ease;
            margin-top: 20px;
            font-size: 1.1rem;
        }

        .btn-store {
            background: var(--success);
            border: 1px solid #3fb950;
        }

        .btn:hover { 
            filter: brightness(1.1);
            transform: translateY(-2px);
        }

        footer { 
            margin-top: auto; 
            padding: 40px; 
            font-size: 0.85rem; 
            color: #555; 
            text-align: center; 
            border-top: 1px solid var(--border-color);
        }

        @media (max-width: 600px) {
            .benefit-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <nav>
        <a href="/">
            <img src="RDICON.png" alt="Ranga Digital Logo" class="logo">
        </a>
    </nav>

<div class="product-card">
                <h2>ScriptableObject Architect</h2>
                <p><strong>The spreadsheet editor Unity forgot to include. Manage your entire game database in one high-performance view.</strong></p>
                
                <div class="placeholder-img">
                    <span>[ Visual: The Data Grid showing Range Bars and Red Validation Cells ]</span>
                </div>

                <div class="benefit-grid">
                    <div class="benefit-item">
                        <h4>‚ö° Spreadsheet Workflow</h4>
                        <p>Forget the Inspector. View, edit, and compare thousands of ScriptableObjects in a single grid. Sort by stats, copy-paste across rows, and balance your game in seconds.</p>
                    </div>
                    <div class="benefit-item">
                        <h4>üîç Advanced Query Engine</h4>
                        <p>Find exactly what you need with code-like precision. Filter your data using syntax like <code>gold > 500</code>, <code>isQuestItem = true</code>, or <code>weight <= 10.5</code>.</p>
                    </div>
                    <div class="benefit-item">
                        <h4>üõ°Ô∏è Visual Validation</h4>
                        <p>Never ship broken data. Define simple rules in C#, and watch cells turn <strong>Red</strong> instantly when data is invalid. Includes visual <strong>Range Bars</strong> for spotting outliers at a glance.</p>
                    </div>
                    <div class="benefit-item">
                        <h4>üöÄ Batch Operations</h4>
                        <p>Rename 100 assets using smart patterns (e.g., <code>Item_{00}</code>), duplicate rows, or export everything to <strong>CSV/JSON</strong> for external editing. Fully integrated with Unity's Undo system.</p>
                    </div>
                </div>

                <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin-bottom: 20px; font-size: 0.9rem; text-align: left;">
                    <strong>Technical Specs:</strong><br>
                    ‚Ä¢ <strong>Hover Previews:</strong> See high-res previews of Sprites, Audio, and Prefabs just by hovering.<br>
                    ‚Ä¢ <strong>Zero Setup:</strong> Automatically finds all ScriptableObject types in your project.<br>
                    ‚Ä¢ <strong>Smart Clipboard:</strong> Copy/Paste values between different assets or apply values to all visible rows.<br>
                    ‚Ä¢ <strong>Unity 6 Ready:</strong> Built on the latest UI Toolkit for maximum performance.
                </div>

                <div style="display: flex; flex-direction: column; align-items: center; gap: 15px;">
                    <a href="#" class="btn btn-store">View on Unity Asset Store</a>
                    
                    <details class="docs-container">
                        <summary>üìñ Open User Manual & Documentation</summary>
                        <div id="docs-content" class="markdown-body">
                            <p style="padding:20px;">Loading documentation...</p>
                        </div>
                    </details>
                </div>
            </div>
    <footer>
        &copy; 2026 Ranga Digital. All rights reserved. <br>
        Optimized for the Unity 6 Engine.
    </footer>

    <script id="raw-docs" type="text/plain">

        # ScriptableObject Architect: Official User Manual

**Version:** 1.0 (Production)
**Tools Path:** `Tools > ScriptableObject Architect`

---

## Table of Contents
1.  [Introduction](#1-introduction)
2.  [Interface Overview](#2-interface-overview)
3.  [Working with Data](#3-working-with-data)
4.  [Advanced Search Engine](#4-advanced-search-engine)
5.  [Batch Operations (Renaming & Mass Editing)](#5-batch-operations)
6.  [Import / Export Pipeline](#6-import--export-pipeline)
7.  [Developer Guide (Validation & Visuals)](#7-developer-guide)

---

<a name="1-introduction"></a>
## 1. Introduction
ScriptableObject Architect (SOA) is a spreadsheet-style editor for Unity data. It replaces the slow workflow of selecting assets one-by-one in the Inspector with a unified, high-performance grid view.

**Key Features:**
* **Live Editing:** Changes are serialized immediately and support Unity's Undo system (`Ctrl+Z`).
* **Visual Safety:** Instant red feedback for invalid data.
* **Mass Management:** Rename, Duplicate, or Edit hundreds of items in seconds.

---

<a name="2-interface-overview"></a>
## 2. Interface Overview

### The Toolbar
* **Asset Type (Dropdown):** Selects which ScriptableObject class to edit (e.g., `RpgItem`).
    * *Note:* Automatically finds all concrete (non-abstract) ScriptableObjects in your project.
* **Create New (Green Button):** Creates a new `.asset` file of the selected type. You will be prompted to choose a save location.
* **Search Bar:** Filters the grid. Supports simple name matching and [Advanced Query Syntax](#4-advanced-search-engine).
* **Help (?):** Displays a quick reference guide for search operators.
* **Tools Menu (Export/Import):** Access the CSV/JSON pipeline.

### The Grid
* **Row:** Represents one Asset file on disk.
* **Column:** Represents a serialized field (variable) in your script (e.g., `id`, `goldValue`).
* **Status Bar:** Displays the total count of loaded assets.

---

<a name="3-working-with-data"></a>
## 3. Working with Data

### Navigation & Interaction
* **Edit:** Click any cell to edit.
* **Commit:** Press `Enter` or click away to save changes.
* **Selection:**
    * `Click`: Select single row.
    * `Ctrl+Click` (Cmd+Click): Select multiple individual rows.
    * `Shift+Click`: Select a range of rows.
* **Shortcuts:**
    * `Delete` / `Backspace`: Deletes selected assets (with confirmation).
    * `Ctrl+D`: Duplicates selected assets.

### Visual Feedback Systems
SOA provides context-aware visuals to help you balance data faster.

1.  **Validation (Red Background):**
    * If a cell turns **Red**, the data is invalid based on your code rules.
    * **Example:** In `RpgItem`, if `goldValue` is set to `-10`, the cell turns red.
    * **Action:** Hover over the red cell to read the specific error message (e.g., *"Gold value cannot be negative!"*).

2.  **Range Bars (Green Progress):**
    * Number fields with a `[Range(min, max)]` attribute show a faint green bar in the background.
    * **Example:** The `weight` field (Range 0-10) will show a 50% filled bar if the value is `5.0`.

3.  **Hover Previews:**
    * Hover your mouse over **Asset Names** or object fields like `icon` (Sprite), `pickupSfx` (AudioClip), or `modelPrefab` (GameObject).
    * A high-resolution preview popup will appear showing the asset's texture, waveform, or mesh preview.

### Field-Specific Features
* **Audio Clips:** Click the `‚ñ∫` button next to `pickupSfx` to preview the sound instantly.
* **Colors:** Click `rarityColor` to open the standard Unity Color Picker.
* **Vectors:** `spawnOffset` X, Y, and Z values are exposed as individual editable fields.
* **Lists/Structs:** Fields like `tags` or `passiveBonus` display as a button. Click "Edit..." to open a floating inspector for that complex data.

---

<a name="4-advanced-search-engine"></a>
## 4. Advanced Search Engine

The search bar allows you to query specific fields using C# variable names found in your `RpgItem` class.
*Note: Searches are Case-Insensitive.*

### Operators
| Operator | Meaning | Example |
| :--- | :--- | :--- |
| `=` or `==` | Equal To | `goldValue = 100` |
| `>` | Greater Than | `weight > 5.0` |
| `<` | Less Than | `weight < 1.0` |
| `>=` | Greater or Equal | `goldValue >= 500` |
| `<=` | Less or Equal | `weight <= 10` |

### Data Types
* **Numbers:** `goldValue > 100` (Find expensive items)
* **Booleans:** `isQuestItem = true` (Find only quest items)
* **Strings:** `id = ITEM_001` (Find exact ID match)
* **Names:** Typing simple text (e.g., `Sword`) searches the **Asset Name** only.

---

<a name="5-batch-operations"></a>
## 5. Batch Operations

SOA includes powerful context menus to speed up workflows.

### Cell Context Menu (Right-Click a Data Cell)
* **Copy:** Copies the value (e.g., a specific `Color` or `AudioClip`) to the clipboard.
* **Paste:** Pastes value from clipboard (Smart validation prevents pasting wrong types).
* **Apply to All:** Overwrites this field for **ALL visible rows**.
    * *Example:* Filter by `isQuestItem = true`, then right-click `rarityColor` and "Apply to All" to make all quest items Yellow.
* **Granular Apply (Vectors/Colors):**
    * Right-clicking `spawnOffset` allows you to "Apply Y to All" (e.g., fixing the height for all items while keeping X/Z random).

### Row Context Menu (Right-Click the "Asset Name")
* **Batch Rename Selected:** Opens the Batch Renamer tool for the currently selected rows.

### Batch Renaming Syntax
The renamer uses patterns to automatically number your assets.
* **`{0}`** = 1, 2, 3
* **`{00}`** = 01, 02, 03
* **`{000}`** = 001, 002, 003

**Example:**
* Pattern: `RPG_Item_{000}`
* Result: `RPG_Item_001`, `RPG_Item_002`...

> **‚ö†Ô∏è Warning:** Renaming is a disk operation. It **cannot** be undone with `Ctrl+Z`.

---

<a name="6-import--export-pipeline"></a>
## 6. Import / Export Pipeline

Use this to edit data in Excel, Google Sheets, or other external tools.

### Exporting
1.  Click **Export > Export to CSV**.
2.  Choose a filename.
3.  The CSV will contain a header row with variable names (`id`, `goldValue`, `weight`, etc.).
    * **`AssetName`** is the Primary Key. **Do not rename this column.**

### Importing
1.  Click **Import > Import from CSV**.
2.  Select your file.
3.  SOA will match rows based on the **`AssetName`** column.
4.  It will verify field names and types before overwriting data in Unity.

---

<a name="7-developer-guide"></a>
## 7. Developer Guide (Validation & Visuals)

To unlock the full power of SOA, add attributes to your `RpgItem` script.

### Namespace
Always include the namespace at the top of your file:
```csharp
using RangaDigital.SOArchitect.Runtime;
```

### 1. Validation (`[SOAValidate]`)
Turns a cell **Red** if logic fails.

**Syntax:** `[SOAValidate("MethodName", "Tooltip Message")]`
* **MethodName:** Must correspond to a method in the same class that returns `bool`.
* **Tooltip:** Text shown when hovering over the red cell.

**Example from `RpgItem.cs`:**
```csharp
[SOAValidate("ValidateGold", "Gold value cannot be negative!")]
[SerializeField] private int goldValue = 50; 

// The validation method must return bool (true = Valid)
public bool ValidateGold()
{
    return goldValue >= 0;
}
```

### 2. Range Bars (`[Range]`)
Adds a visual progress bar behind the number.

**Syntax:** `[Range(min, max)]` (Standard Unity Attribute)

**Example from `RpgItem.cs`:**
```csharp
[Range(0f, 10f)]
public float weight = 1.5f; // Shows a bar filling from 0% to 100%
```

### 3. Full Implementation Reference (`RpgItem.cs`)
```csharp
using UnityEngine;
using System.Collections.Generic;
using RangaDigital.SOArchitect.Runtime;

[CreateAssetMenu(fileName = "New RPG Item", menuName = "SO Architect Demos/RPG Item")]
public class RpgItem : ScriptableObject 
{
    [Header("Economy")]
    // Validation: Turns RED if gold is -1 or lower
    [SOAValidate("ValidateGold", "Gold value cannot be negative!")]
    [SerializeField] private int goldValue = 50; 
    
    // Visuals: Shows a green progress bar
    [Range(0f, 10f)]
    public float weight = 1.5f;

    [Header("Complex Data")]
    // Validation: Ensures the list isn't empty
    [SOAValidate("ValidateTags", "Item must have at least one tag.")]
    public List<string> tags = new List<string> { "Tradeable" };

    // --- Validation Methods ---
    public bool ValidateGold() => goldValue >= 0;
    public bool ValidateTags() => tags != null && tags.Count > 0;
}
```
    
    </script>

<script>
        document.addEventListener('DOMContentLoaded', function() {
            var rawContainer = document.getElementById('raw-docs');
            var targetContainer = document.getElementById('docs-content');
            
            if (!rawContainer || !targetContainer) return;

            // 1. Get text and split into lines
            var lines = rawContainer.textContent.split('\n');

            // 2. Remove empty leading/trailing lines (caused by HTML formatting)
            while (lines.length > 0 && lines[0].trim() === '') lines.shift();
            while (lines.length > 0 && lines[lines.length - 1].trim() === '') lines.pop();

            // 3. Detect common indentation from the first line
            var indentMatch = lines.length > 0 ? lines[0].match(/^\s+/) : null;
            var indent = indentMatch ? indentMatch[0] : '';

            // 4. Strip that indentation from every line (Fixes the "Code Block" layout issue)
            var cleanText = lines.map(function(line) {
                return line.startsWith(indent) ? line.substring(indent.length) : line;
            }).join('\n');

            // 5. Render
            if (window.marked) {
                targetContainer.innerHTML = marked.parse(cleanText);
            } else {
                targetContainer.innerHTML = "<p style='color:red; padding:20px;'>Error: Marked.js library not loaded. Check internet connection or <head> tags.</p>";
            }
        });
    </script>

</body>
</html>
